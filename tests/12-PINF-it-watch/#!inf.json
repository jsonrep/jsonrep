#!/usr/bin/env inf
{
    "#": "gi0.PINF.it/core/v0",

    "#": {
        "jsonrep": "jsonrep"
    },

    ":builder:": "jsonrep @ builder/v0",


    "gi0.PINF.it/core/v0 @ # :builder: set() config": {
        "dist": ".dist/page/index.html",
        "prime": true,
        "page": {
            "@announcer": {
                "message": "Hello World!"
            }
        },
        "reps": {
            "announcer": "./announcer.rep.js"
        }
    },

    "gi0.PINF.it/core/v0 @ # :builder: run()": "",

    "# run": (run.bash.progress () >>>
        echo "---"
        cat ./.dist/page/announcer.rep.js
        echo -e "\n---"
    <<<),

    "gi0.PINF.it/core/v0 @ # watch()": "",

    "# run": (run.bash.progress () >>>
        sed "-i" "" "-e" 's/PREFIX:1/PREFIX:2/g' ./announcer.rep.js
        sleep 1
        cat ./.dist/page/announcer.rep.js
        echo -e "\n---"
        sed "-i" "" "-e" 's/PREFIX:2/PREFIX:1/g' ./announcer.rep.js
        sleep 1
        cat ./.dist/page/announcer.rep.js
        echo -e "\n---"
    <<<),

    "gi0.PINF.it/core/v0 @ # unwatch()": ""
}